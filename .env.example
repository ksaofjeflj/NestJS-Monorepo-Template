# ============================================
# NestJS Monorepo Template - Environment Variables
# ============================================
# Copy this file to .env and update with your values
# cp .env.example .env

# ============================================
# Application Configuration
# ============================================
NODE_ENV=development
APP_NAME=NestJS Monorepo Template

# Port Configuration (each app can have its own port)
PORT=5001
API_SERVER_PORT=3001
WEBSOCKET_PORT=3002
ADMIN_PORT=3003

# API Configuration
API_PREFIX=api

# CORS Configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=false

# ============================================
# Database Configuration
# ============================================
# Database Type: mongodb, postgresql, or mysql
DB_TYPE=mongodb

# Option 1: Full Database URI (recommended)
# DATABASE_URI=mongodb://localhost:27017/nestjs_app
# DATABASE_URI=postgresql://user:password@localhost:5432/nestjs_app
# DATABASE_URI=mysql://user:password@localhost:3306/nestjs_app

# Option 2: Individual Database Settings (if DATABASE_URI not provided)
DB_HOST=localhost
DB_PORT=27017
DB_USERNAME=
DB_PASSWORD=
DB_NAME=nestjs_app

# ============================================
# JWT Configuration
# ============================================
# ⚠️ IMPORTANT: Change these in production!
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your-refresh-secret-key
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Swagger Configuration
# ============================================
ENABLE_SWAGGER=true
SWAGGER_TITLE=NestJS API
SWAGGER_DESCRIPTION=API Documentation
SWAGGER_VERSION=1.0
SWAGGER_PATH=api-docs

# ============================================
# Security & Rate Limiting
# ============================================
# Rate Limiting - Strict (for auth endpoints)
RATE_LIMIT_STRICT_MAX=5
RATE_LIMIT_STRICT_WINDOW_MS=900000

# Rate Limiting - Normal (for API endpoints)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# Rate Limiting - Lenient (for public endpoints)
RATE_LIMIT_LENIENT_MAX=1000
RATE_LIMIT_LENIENT_WINDOW_MS=900000

# Trusted IPs (comma-separated, bypass rate limiting)
TRUSTED_IPS=

# Compression
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# ============================================
# Admin Seeding
# ============================================
# Enable/disable admin seeding on startup
SEED_ADMIN=true

# Default admin credentials (only used if admin doesn't exist)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123
ADMIN_ROLE=super_admin

# ============================================
# Production Notes
# ============================================
# 1. Always change JWT_SECRET and JWT_REFRESH_SECRET in production
# 2. Use strong passwords for database connections
# 3. Set NODE_ENV=production
# 4. Configure proper CORS_ORIGIN (not *)
# 5. Review and adjust rate limiting values
# 6. Disable admin seeding in production (SEED_ADMIN=false)
# 7. Use environment-specific database URIs
